# 使用指南

## 🚀 快速开始

### 第一步：运行插件

你已经编译好了代码（`out/extension.js` 已存在），现在可以直接运行：

1. **按 `F5` 键**，或者
2. **点击 VS Code 左侧的"运行和调试"图标**，然后点击"运行扩展"

这会打开一个新的 VS Code 窗口（扩展开发宿主窗口），插件会自动激活。

### 第二步：查看效果

在新打开的 VS Code 窗口中：

1. **查看状态栏**（窗口底部右侧）
   - 你会看到一个圆圈图标 `○`（默认图标）
   - 这就是插件创建的状态栏项

2. **鼠标悬停**
   - 将鼠标移到图标上
   - 会显示 tooltip，包含文件内容的摘要

3. **点击图标**
   - 点击状态栏图标
   - 会在输出面板显示完整内容
   - 同时弹出提示信息

## 📝 当前配置

插件默认读取：`${workspaceFolder}/secret.txt`

你已经有了 `secret.txt` 文件（1037 行），插件会自动读取并显示。

## ⚙️ 配置选项

### 方法 1：通过设置界面

1. 按 `Ctrl+,`（Mac: `Cmd+,`）打开设置
2. 搜索 `secretStatusBar`
3. 修改以下配置：

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| `secretStatusBar.filePath` | 文件路径 | `"${workspaceFolder}/secret.txt"` |
| `secretStatusBar.icon` | 状态栏图标 | `"$(circle-outline)"` |
| `secretStatusBar.enableClickDialog` | 点击显示对话框 | `true` |
| `secretStatusBar.enableEncryption` | 启用加密（Base64） | `false` |

### 方法 2：编辑 settings.json

在工作区的 `.vscode/settings.json` 中添加：

```json
{
  "secretStatusBar.filePath": "${workspaceFolder}/secret.txt",
  "secretStatusBar.icon": "$(circle-outline)",
  "secretStatusBar.enableClickDialog": true,
  "secretStatusBar.enableEncryption": false
}
```

### 常用图标

- `$(circle-outline)` - 圆圈轮廓（默认）
- `$(blank)` - 空白
- `$(eye)` - 眼睛
- `$(lock)` - 锁
- `$(key)` - 钥匙
- `$(shield)` - 盾牌

## 🎯 常用命令

按 `Ctrl+Shift+P`（Mac: `Cmd+Shift+P`）打开命令面板，输入：

### 1. 显示隐藏内容
```
控制栏阅读: 显示隐藏内容
```
或直接点击状态栏图标

### 2. 重新加载文件
```
控制栏阅读: 重新加载文件
```
当文件更新后，如果状态栏没有自动刷新，使用此命令

### 3. 配置文件路径
```
控制栏阅读: 配置文件路径
```
交互式修改文件路径

## 🔄 文件监听

插件会自动监听 `secret.txt` 文件的变化：

- ✅ **文件修改**：保存后自动更新状态栏
- ✅ **文件创建**：自动加载新文件
- ⚠️ **文件删除**：显示警告信息

## 💡 使用技巧

### 技巧 1：查看完整内容

由于你的 `secret.txt` 有 1037 行，内容很长：

1. **Tooltip 显示**：只显示摘要（前 50 个字符）
2. **点击图标**：在输出面板查看完整内容
3. **输出面板**：可以搜索、复制内容

### 技巧 2：自定义图标

如果想更隐蔽，可以设置为空白图标：

```json
{
  "secretStatusBar.icon": "$(blank)"
}
```

### 技巧 3：使用加密

如果文件内容是 Base64 编码的：

1. 在设置中启用 `secretStatusBar.enableEncryption: true`
2. 将 Base64 编码的内容保存到 `secret.txt`
3. 插件会自动解码显示

## 🐛 故障排除

### 问题 1：状态栏没有显示图标

**检查：**
1. 文件路径是否正确
2. 文件是否存在
3. 查看输出面板（选择 "Secret Status Bar" 通道）的错误信息

**解决：**
- 使用命令 `控制栏阅读: 重新加载文件`
- 检查 `.vscode/settings.json` 中的路径配置

### 问题 2：文件更新后没有刷新

**解决：**
1. 确保文件已保存（`Ctrl+S`）
2. 手动触发：`控制栏阅读: 重新加载文件`
3. 检查文件监听器是否正常工作

### 问题 3：内容显示不完整

**说明：**
- Tooltip 中只显示摘要（前 50 字符）
- 完整内容需要点击图标在输出面板查看
- 这是为了保持"隐蔽性"的设计

## 📦 打包安装

如果想在其他 VS Code 中安装这个插件：

```bash
# 1. 安装打包工具
npm install -g @vscode/vsce

# 2. 打包插件
npm run package

# 3. 安装 VSIX
# 在 VS Code 中：Ctrl+Shift+P → Extensions: Install from VSIX...
```

## 🎨 界面说明

```
┌─────────────────────────────────────────┐
│  VS Code 窗口                           │
│                                         │
│  [编辑器区域]                            │
│                                         │
│                                         │
├─────────────────────────────────────────┤
│  状态栏:  ○  ← 这是插件图标（点击查看）  │
└─────────────────────────────────────────┘
```

鼠标悬停在 `○` 上会显示 tooltip，点击会打开输出面板。

---

**现在就开始使用吧！按 `F5` 运行插件，在新窗口中查看效果！** 🎉

